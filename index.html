<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D Orrery</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
        }
        #zoom-level {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 100;
            color: white;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <canvas id="orreryCanvas"></canvas>
    <div id="zoom-level">Zoom: 100%</div>

    <script>
        const canvas = document.getElementById('orreryCanvas');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        const earth = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            radius: 6,
            color: 'blue'
        };

        const planets = [
            { name: 'Sun', distance: 0, radius: 20, color: 'orange', speed: 0 },
            { name: 'Mercury', distance: 60, radius: 2, color: 'gray', speed: 2 },
            { name: 'Venus', distance: 90, radius: 5, color: 'yellow', speed: 1.5 },
            { name: 'Earth', distance: 130, radius: 6, color: 'blue', speed: 1 },
            { name: 'Mars', distance: 180, radius: 3, color: 'red', speed: 0.9 },
            { name: 'Jupiter', distance: 220, radius: 12, color: 'brown', speed: 0.65 },
            { name: 'Saturn', distance: 270, radius: 10, color: 'gold', speed: 0.6 },
            { name: 'Uranus', distance: 320, radius: 7, color: 'lightblue', speed: 0.5 },
            { name: 'Neptune', distance: 360, radius: 7, color: 'darkblue', speed: 0.4 },
        ];

        const moon = { name: 'Moon', distance: 20, radius: 1, color: 'white', speed: 12 };

        const stars = [];
        for (let i = 0; i < 100; i++) {
            stars.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                radius: Math.random() * 1.5 + 0.5,
                color: `rgba(255, 255, 255, ${Math.random()})`
            });
        }

        let scale = 1;
        const scaleFactor = 1.1;
        const minScale = 0.5;
        const maxScale = 3;
        let isDragging = false;
        let startX = 0;
        let startY = 0;
        let offsetX = 0;
        let offsetY = 0;
        let targetScale = 1;
        let zoomCenterX = 0;
        let zoomCenterY = 0;

        canvas.addEventListener('wheel', (event) => {
            event.preventDefault();

            zoomCenterX = event.clientX - offsetX;
            zoomCenterY = event.clientY - offsetY;

            if (event.deltaY < 0) {
                targetScale *= scaleFactor;
                if (targetScale > maxScale) targetScale = maxScale;
            } else {
                targetScale /= scaleFactor;
                if (targetScale < minScale) targetScale = minScale;
            }
        });

        canvas.addEventListener('mousedown', (event) => {
            isDragging = true;
            startX = event.clientX;
            startY = event.clientY;
        });

        canvas.addEventListener('mousemove', (event) => {
            if (isDragging) {
                const dx = event.clientX - startX;
                const dy = event.clientY - startY;
                startX = event.clientX;
                startY = event.clientY;
                offsetX += dx;
                offsetY += dy;
            }
        });

        canvas.addEventListener('mouseup', () => {
            isDragging = false;
        });

        canvas.addEventListener('mouseleave', () => {
            isDragging = false;
        });

        let angle = 0;
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            scale += (targetScale - scale) * 0.1;

            ctx.save();
            ctx.translate(offsetX, offsetY);
            ctx.translate(earth.x, earth.y);
            ctx.scale(scale, scale);
            ctx.translate(-earth.x, -earth.y);

            stars.forEach(star => {
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                ctx.fillStyle = star.color;
                ctx.fill();
            });

            planets.forEach(planet => {
                const planetX = earth.x + planet.distance * Math.cos(angle * planet.speed);
                const planetY = earth.y + planet.distance * Math.sin(angle * planet.speed);

                ctx.beginPath();
                ctx.arc(earth.x, earth.y, planet.distance, 0, Math.PI * 2);
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.stroke();

                ctx.beginPath();
                ctx.arc(planetX, planetY, planet.radius, 0, Math.PI * 2);
                ctx.fillStyle = planet.color;
                ctx.fill();

                ctx.font = '12px Arial';
                ctx.fillStyle = 'white';
                ctx.fillText(planet.name, planetX + planet.radius + 3, planetY);

                if (planet.name === 'Earth') {
                    const moonX = planetX + moon.distance * Math.cos(angle * moon.speed);
                    const moonY = planetY + moon.distance * Math.sin(angle * moon.speed);

                    ctx.beginPath();
                    ctx.arc(planetX, planetY, moon.distance, 0, Math.PI * 2);
                    ctx.strokeStyle = 'rgba(255, 255, 255, 0.2)';
                    ctx.stroke();

                    ctx.beginPath();
                    ctx.arc(moonX, moonY, moon.radius, 0, Math.PI * 2);
                    ctx.fillStyle = moon.color;
                    ctx.fill();

                    ctx.fillText(moon.name, moonX + moon.radius + 3, moonY);
                }
            });

            angle += 0.01;

            ctx.restore();

            const zoomLevelDisplay = document.getElementById('zoom-level');
            if (zoomLevelDisplay) {
                zoomLevelDisplay.textContent = `Zoom: ${Math.round(scale * 100)}%`;
            }

            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
